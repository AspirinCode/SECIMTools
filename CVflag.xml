<tool id="CVflag" name="CV flags">
  <description>Calculate CV flags</description>
  <requirements>
    <requirement type="python-module">numpy</requirement>
    <requirement type="python-module">pandas</requirement>
    <requirement type="python-module">matplotlib</requirement>
    <requirement type="python-module">scipy</requirement>
  </requirements>
  <command interpreter="python">CVflag.py
      --input $input
      --design $design
      --ID $uniqID
      --CVplotOutFile $CVplot
      --CVflagOutFile $CVflag

      #if $group:
          --group $group
      #end if
      #if $CVcutoff:
	    --CVcutoff $CVcutoff
      #end if
  </command>
  <inputs>
    <param name="input" type="data" format="tabular" label="Wide Dataset" help="Input dataset in wide format and tab separated. If not tab separated see TIP below."/>
    <param name="design" type="data" format="tabular" label="Design File" help="Design file tab separated. Note you need a 'sampleID' column. If not tab separated see TIP below"/>
    <param name="uniqID" type="text" size="30" value="" label="Unique Compound ID" help="Name of the column in your Wide Dataset that has unique compound/gene IDs."/>
    <param name="CVcutoff"  type="float" optional="true" size="4" label="CVcutoff [OPTIONAL]" help="The default CV cutoff will flag 10 percent of the rowIDs with larger CVs. If you want to set a CV cutoff, put the number here."/>
    <param name="group" type="text" size="30" label="Input Group name to separate by [OPTIONAL]" help="If you wish to sort by groups in a column in the design file, enter the column name. Spelling and capitalization must be exact" />
  </inputs>
  <outputs>
    <data format="pdf" name="CVplot"  label="CVplot" />
    <data format="tabular" name="CVflag"  label="CVflag" />
  </outputs>
<help>
</help>
</tool>
