<tool id="hch" name="Hierarchical Cluster Heatmap" version="1.0,0">
	<description>Plots a heatmap.</description>
	<requirements>
		<requirement type="python-module">numpy</requirement>
	    <requirement type="python-module">pandas</requirement>
	    <requirement type="python-module">matplotlib</requirement>
	    <requirement type="python-module">logging</requirement>
	    <requirement type="python-module">logger</requirement>
	    <requirement type="python-module">interface</requirement>
	    <requirement type="python-module">palettable</requirement>
	</requirements>
	<command interpreter="python">
		hierarchical_clustering_heatmap.py
		--input $input
		--design $design
		--uniqID $uniqID
		#if $dendogram
		--dendogram
		#end if
		--labels $labels
		--heatmap $heatmap
	</command>
	<inputs>
		<param name="input" type="data" format="tabular" label="Wide Dataset" help="Input dataset in wide format and tab separated. If not tab separated see TIP below."/>
	    <param name="design" type="data" format="tabular" label="Design File" help="Design file tab separated. Note you need a 'sampleID' column. If not tab separated see TIP below."/>
	    <param name="uniqID" type="text" size="30" value="" label="Unique Feature ID" help="Name of the column in your Wide Dataset that has unique Feature IDs."/>
	    <param name="dendogram" type="boolean" value="False" label="Add dendogram on heatmap" help="It will print a dendogram over the heatmap."/>
		<param name="labels" type="select" label="Remove labels from plots" multiple="true" display="checkboxes">
			<option value="x">X-axis labels</option>
			<option value="y">Y-axis labels</option>
		</param>
	</inputs>
	<outputs>
    	<data format="pdf" name="heatmap" label="${tool.name} on ${on_string}"/>
	</outputs>
	<macros>
			<import>macros.xml</import>
	</macros>
<help>

@TIP_AND_WARNING@

**Tool Description**

This tool generates a hierarchical cluster heatmap from a wide format dataset.  This script works best for the log-transformed data without missingness.  The user has an option to add hierarchical clustering structure on the top of the heatmap figure and the names of the features.

**NOTE:** This script works best with log transformed data.

--------------------------------------------------------------------------------

**Input**

	- Two input datasets are required.

@WIDE@

**NOTE:** The sample IDs must match the sample IDs in the Design File
(below). Extra columns will automatically be ignored.


@METADATA@

@UNIQID@

**Add dendogram on heatmap**

	- It will print a dendogram over the heatmap.

**Remove labels from plots**

	- X-axis labels
	- Y-axis labels

--------------------------------------------------------------------------------

**Output**

The tool outputs single PDF file with the hierarchical cluster heatmap.  Based on the user settings hierarchical clustering structure tree or feature IDs may be included in the heatmap. 

</help>
</tool>

