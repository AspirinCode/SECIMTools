<tool id="mean_standardize" name="Mean standardization">
    <description>Standardize the data using various types of mean standadardization.</description>
    <requirements>
        <requirement type="python-module">numpy</requirement>
        <requirement type="python-module">pandas</requirement>
        <requirement type="python-module">mpld3</requirement>
        <requirement type="python-module">interface</requirement>
        <requirement type="python-module">logger</requirement>
    </requirements>
    <command interpreter="python">mean_standardize.py
        --input $input
        --design $design
        --ID $uniqID
        --group $group
        --std $std
        --out $out
    </command>
    <inputs>
        <param name="input" type="data" format="tabular" label="Wide Dataset" help="Input dataset in wide format and tab separated. If not tab separated see TIP below."/>
        <param name="design" type="data" format="tabular" label="Design File" help="Design file tab separated. Note you need a 'sampleID' column. If not tab separated see TIP below"/>
        <param name="uniqID" type="text" size="30" value="" label="Unique Feature ID" help="Name of the column in your Wide Dataset that has unique Feature IDs."/>
        <param name="group" type="text" size="30" value="" label="Group/Treatment" help="Name of the column in your Design File that contains group classifications."/>
        <param name="std" type="select" size="30" value="" label="Mean Standardization" help="Select type of mean standardization.">
            <option value="STD" selected="true">STD</option>
            <option value="MEAN" selected="true">MEAN</option>
        </param>
    </inputs>
    <outputs>
        <data format="tabular" name="out" />
    </outputs>
    <macros>
        <import>macros.xml</import>
    </macros>
    <tests>
        <test>
            <param name="input" value="./test-data/test_data.tsv" />
            <param name="design" value="./test-data/test_design.csv" />
            <param name="uniqID" value="rowID" />
            <param name="group" value="treatment" />
            <param name="std" value="MEAN" />
            <output name="out" file="./test-data/test_mean_standardize_out.tsv" />
        </test>
    </tests>

    <help>

@TIP_AND_WARNING@

**Syntax**

This tool mean standardize your samples.

- Two input datasets are required.

    @WIDE@

    **NOTE:** The sample IDs must match the sample IDs in the Design File (below). 
    Extra columns will automatically be ignored.


    @METADATA@

- In addition to your datasets, you need to provide:

    **Unique Feature ID**

    - The column name in your wide dataset that contains the unique IDs for
      your features. In our example dataset you would input *Compound*.

      @GROUP_OPTIONAL@

--------------------------------------------------------------------------------

**Output Files**

This tool outputs 2 different files.

    - A `PDF` file containing distributions.

    - A `HTML` that has the same distribution plot, but with interactive zoom.

</help>
</tool>

