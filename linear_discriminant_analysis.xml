<tool id="lda" name="Linea Discriminant Analysis (LDA) (Beta)" version="1.0.0">
    <description>Calculates linear discriminant analysis.</description>
    <requirements>
        <requirement type="python-module">sklearn</requirement>
        <requirement type="python-module">pandas</requirement>
        <requirement type="python-module">numpy</requirement>
        <requirement type="python-module">matplotlib</requirement>
        <requirement type="python-module">palettable</requirement>
    </requirements>
    <command interpreter="python">
        linear_discriminant_analysis.py
        --input $input
        --design $design
        --ID $uniqID
        --group $group
        --nComponents $nComponents
        --out $out
        --figure $figure
    </command>
    <inputs>
        <param name="input" type="data" format="tabular" label="Wide Dataset" help="Input dataset in wide format and tab separated. If file is not tab separated see TIP below."/>
        <param name="design" type="data" format="tabular" label="Design File" help="Design file tab separated. Note you need a 'sampleID' column. If not tab separated see TIP below."/>
        <param name="uniqID" type="text" size="30" value="" label="Unique Feature ID" help="Name of the column in your Wide Dataset that has unique Feature IDs."/>
        <param name="group" type="text" size="30" label="Group/Treatment" help="Enter group name to calculate from. Spelling and capitalization must be exact."/>
        <param name="nComponents" type="text" size="30" value="2" label="Number of components [Optional]" help="Enter number of components to use to perform the analysis default: number_of_groups - 1."/>
    </inputs>
    <outputs>
        <data format="tabular" name="out" label="${tool.name} on ${on_string}: weights"/>
        <data format="pdf" name="figure" label="${tool.name} on ${on_string}: scatter plots"/>
    </outputs>
    <macros>
        <import>macros.xml</import>
    </macros>
<help>

@TIP_AND_WARNING@

.. class:: infomark

**Tool Description**

This tool performs linead Discriminant Analysis on the numeric input data.

--------------------------------------------------------------------------------

.. class:: warningmark

**Note**

- This tool currently treats all variables as continuous numeric
  variables. Running the tool on categorical variables might result in
  incorrect results. 
- Rows containing non-numeric (or missing) data in any
  of the chosen columns will be skipped from the analysis.

--------------------------------------------------------------------------------

**Input**

- Two input datasets are required.

    @WIDE@

    **NOTE:** The sample IDs must match the sample IDs in the Design File (below).
    Extra columns will automatically be ignored.


    @METADATA@

**In addition to your datasets, you need to provide:**

**Unique Feature ID**

    - The column name in your wide dataset that contains the unique IDs for your features. In our example dataset you would input *Feature*.

**Number of components**

    - The number of components that you want ot use to perform the linear discriminant analysis if not number is provided number of groups - 1 is going to be used instead.

--------------------------------------------------------------------------------

**Output**

    - A PDF containing the 2D plots for all possible level combinations.

    - A TSV containing scores of the model.

</help>
</tool>
