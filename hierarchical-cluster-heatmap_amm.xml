<tool id="hierarchical-cluster-heatmap" name="Hierarchical Cluster Heatmap" version="0.0.1">
  <description> </description>
  <requirements>
    <requirement type="python-module">matplotlib</requirement>
    <requirement type="python-module">scipy</requirement>
  </requirements>
  <command interpreter="python">
    hierarchical-cluster-heatmap_amm.py 
      --i $input1
      --d $design
      --g $group
      --a $anno
      --c $cmpd
      --n $a_col
      --o1 $out_file1
  </command>
  <inputs>
    <param format="tabular" name="input1" type="data" label="Select wide format data set." help="Dataset missing? See TIP below."/>
    <param format="tabular" name="design" type="data" label="Select Metadata file." help="Dataset missing? See TIP below."/>
    <param name="group" type="text" label="Group/Treatment column in Metadata File to color samples by" help="Name of column in Metadata file containing group categories."/>
    <param format="tabular" name="anno" type="data" optional="true" label="Optional - Select Annotation File." help="Dataset missing? See TIP below."/>
    <param name="cmpd" type="text" optional="true" label="Column containing unique Feature IDs in Annotation File" help="Name of column in Annotation File containing unique feature/compound IDs."/>
    <param name="a_col" type="text" optional="true" label="Column containing annotations to color features by." help="Name of the column in the annotation data set that contains the annotations for each unique feature/compound/gene ID."/>
  </inputs>
  <outputs>
    <data format="png" name="out_file1" />
  </outputs>
  <macros>
      <import>macros.xml</import>
  </macros>
<help>

@TIP_AND_WARNING@

**What it does**

This tool generates a Hierarchical Cluster Heatmap from a Wide Format
dataset, a Metadata dataset and an optional Annotation dataset.

--------------------------------------------------------------------------------


**Input**

- Two input datasets are required.

    @WIDE@

    **NOTE:** The sample IDs must match the sample IDs in the Metadata File (below).
    Extra columns will automatically be ignored.


    @METADATA@

    **In addition to your datasets, you need to provide:**

    @GROUP_OPTIONAL@

    **Unique Feature ID**

    - The column name in your wide dataset that contains the unique IDs for
      your features. In our example dataset you would input *Features*


**Optional Annotation File:**

     Used to generate a feature color bar.

    An Annotation File relating features to pathways of interest::

        +------------+------------+
        | Feature    | annotation |
        +============+============+
        | compound1  |    a1      |
        | compound2  |    a1      |
        | compound3  |    a1      |
        | compound4  |    a2      |
        +----------+--------------+

      **Note:** The feature names in the Annotation file must match the feature
      names in the Wide Format Dataset.

--------------------------------------------------------------------------------

**Output Files**

- This tool outputs a PNG image of the hierarchical heat map

</help>
</tool>
